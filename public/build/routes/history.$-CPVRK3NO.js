import{a as N,c as C,d as R,e as S,f as g,g as L,h as F}from"/build/_shared/chunk-7E7G7OTD.js";import{a as D}from"/build/_shared/chunk-JZPWHJSH.js";import"/build/_shared/chunk-UWPJM7AV.js";import"/build/_shared/chunk-PZREKCLW.js";import{a as x}from"/build/_shared/chunk-BGGU76WW.js";import"/build/_shared/chunk-43C3X2NS.js";import{a as j}from"/build/_shared/chunk-6ONBEGK5.js";import{a as d}from"/build/_shared/chunk-JYUNOVIT.js";import{a as O}from"/build/_shared/chunk-KLBELPZN.js";import"/build/_shared/chunk-P2NZI5BF.js";import"/build/_shared/chunk-MEPO3LXF.js";import"/build/_shared/chunk-QBFJKGXD.js";import"/build/_shared/chunk-TV54ZEOX.js";import"/build/_shared/chunk-CX5Y3VPS.js";import"/build/_shared/chunk-K6RWFLHP.js";import{b as w}from"/build/_shared/chunk-7AP6T45O.js";import"/build/_shared/chunk-3BPYJKF7.js";import{a as B}from"/build/_shared/chunk-W6BRDIS7.js";import{a as k}from"/build/_shared/chunk-YGYQMOER.js";import"/build/_shared/chunk-24SVIZHC.js";import"/build/_shared/chunk-6WZNKZUR.js";import{b as c}from"/build/_shared/chunk-ZL2D2BLU.js";import"/build/_shared/chunk-X5H4KKWG.js";import"/build/_shared/chunk-5WLYYZL3.js";import{a as P}from"/build/_shared/chunk-3RGK6QCO.js";import{a as M}from"/build/_shared/chunk-3EL5GIA4.js";import{a as H}from"/build/_shared/chunk-5JZUYYED.js";import{a as U}from"/build/_shared/chunk-PGOH7JLP.js";import{h as l,l as _}from"/build/_shared/chunk-LPZMHNQ2.js";import{a as T,b as v}from"/build/_shared/chunk-4HXKWYDW.js";import{c as a}from"/build/_shared/chunk-Q3IECNXJ.js";var A=a(U(),1);var $=a(H(),1),E=a(B(),1),G=a(M(),1),J=a(P(),1);var W=a(j(),1),h=a(O(),1);var u=a(T(),1);var e=a(v(),1),z=k(o=>"\uC5ED\uC0AC: "+d(o.namespace,o.title));function I(){let o=_(),[r,b]=u.default.useState({}),[f,y]=u.default.useState({open:!1,children:null});function m(t){y({open:!0,children:t})}let s=encodeURI(d(o.namespace,o.title));return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x,{namespace:o.namespace,title:o.title,date:o.date,rever:o.rever,thread:o.thread,type:"history"}),(0,e.jsx)(N,{open:f.open,onOpenChange:t=>y({open:!1,children:null}),children:(0,e.jsxs)(R,{children:[(0,e.jsxs)(S,{children:[(0,e.jsx)(L,{children:"\uC624\uB958!"}),(0,e.jsx)(F,{children:f.children})]}),(0,e.jsx)(g,{children:(0,e.jsx)(g,{children:(0,e.jsx)(C,{asChild:!0,children:(0,e.jsx)(c,{variant:"outline",children:"\uB2EB\uAE30"})})})})]})}),(0,e.jsx)(c,{onClick:()=>{let t=Object.keys(r).sort((i,p)=>+i-+p),n=t.length;if(n>2)m("\uBE44\uAD50\uD560 \uB9AC\uBC84\uC804\uC774 \uB108\uBB34 \uB9CE\uC2B5\uB2C8\uB2E4! \uC815\uD655\uD788 2\uAC1C\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");else if(n<2)m("\uBE44\uAD50\uD560 \uB9AC\uBC84\uC804\uC774 \uB108\uBB34 \uC801\uC2B5\uB2C8\uB2E4! \uC815\uD655\uD788 2\uAC1C\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");else{let i=o.revers[+t[0]],p=o.revers[+t[1]];if(!i||!p)return m("\uBE44\uAD50\uD560 \uB9AC\uBC84\uC804\uC774 \uC874\uC7AC\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4!");window.location.href=`/diff/${s}?rever=${i.rever}&oldrever=${p.rever}`}},children:"\uC120\uD0DD \uB9AC\uBC84\uC804 \uBE44\uAD50"}),(0,e.jsx)("ul",{children:o.revers.map((t,n)=>(0,e.jsxs)("li",{className:"p-1",children:[(0,e.jsx)(w,{date:t.date}),"\xA0",(0,e.jsxs)("span",{className:"text-gray-600",children:["(",(0,e.jsx)(l,{to:"/wiki/"+s+"?rever="+t.rever,className:"text-blue-600 hover:text-blue-500",children:"\uBB38\uC11C"}),"\xA0|\xA0",(0,e.jsx)(l,{to:"/raw/"+s+"?rever="+t.rever,className:"text-blue-600 hover:text-blue-500",children:"RAW"}),"\xA0|\xA0",(0,e.jsx)(l,{to:"/revert/"+s+"?rever="+t.rever,className:"text-blue-600 hover:text-blue-500",children:"\uC774 \uB9AC\uBC84\uC804\uC73C\uB85C \uB418\uB3CC\uB9AC\uAE30"}),"\xA0|\xA0",(0,e.jsx)(l,{to:"/diff/"+s+"?rever="+t.rever,className:"text-blue-600 hover:text-blue-500",children:"\uBE44\uAD50"}),"\xA0|\xA0",(0,e.jsxs)("span",{children:[(0,e.jsx)("input",{type:"checkbox",id:"wiki-history-select-"+n,checked:r[n],onChange:i=>{r[n]?(delete r[n],b(r)):(r[n]=!0,b(r))}}),"\xA0",(0,e.jsx)("label",{htmlFor:"wiki-history-select-"+n,children:"\uC120\uD0DD"})]}),")"]}),"\xA0",t.type!==0?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("i",{className:"text-gray-600",children:["(",t.type===1?"bot \uD3B8\uC9D1":t.type===2?`${t.move_old_title}\uC5D0\uC11C ${t.move_new_title}\uC73C\uB85C \uC774\uB3D9`:t.type===3?`r${t.revert_rever}\uC73C\uB85C \uB418\uB3CC\uB9AC\uAE30`:t.type===4?"\uC0AD\uC81C":null,")"]}),"\xA0"]}):null,(0,e.jsxs)("b",{children:["r",t.rever]}),"\xA0",t.length>0?(0,e.jsxs)("span",{className:"text-green-500",children:["+",t.length]}):t.length<0?(0,e.jsx)("span",{className:"text-red-500",children:t.length}):(0,e.jsx)("span",{className:"text-gray-500",children:"0"}),"\xA0",(0,e.jsx)(D,{username:t.username,ip:t.ip}),"\xA0",t.log]},"wiki-history-item-"+n))})]})}export{I as default,z as meta};
