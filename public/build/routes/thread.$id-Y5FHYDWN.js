import{a as B}from"/build/_shared/chunk-2F24QOYM.js";import"/build/_shared/chunk-XKAX2QHM.js";import{a as S,b as M,d as T,e as R,f as A,g as F,h as L}from"/build/_shared/chunk-7E7G7OTD.js";import{a as C}from"/build/_shared/chunk-JZPWHJSH.js";import"/build/_shared/chunk-UWPJM7AV.js";import"/build/_shared/chunk-PZREKCLW.js";import{a as I}from"/build/_shared/chunk-BGGU76WW.js";import"/build/_shared/chunk-43C3X2NS.js";import{a as X}from"/build/_shared/chunk-6ONBEGK5.js";import"/build/_shared/chunk-JYUNOVIT.js";import{a as Q}from"/build/_shared/chunk-KLBELPZN.js";import"/build/_shared/chunk-BJK4DN4I.js";import"/build/_shared/chunk-P2NZI5BF.js";import{a as J}from"/build/_shared/chunk-SDRQ6WNV.js";import{e as D,f as k,h as x,i as b,l as p}from"/build/_shared/chunk-MEPO3LXF.js";import"/build/_shared/chunk-QBFJKGXD.js";import"/build/_shared/chunk-TV54ZEOX.js";import"/build/_shared/chunk-CX5Y3VPS.js";import{g as v,r as y}from"/build/_shared/chunk-K6RWFLHP.js";import{b as N}from"/build/_shared/chunk-7AP6T45O.js";import"/build/_shared/chunk-3BPYJKF7.js";import{a as j}from"/build/_shared/chunk-W6BRDIS7.js";import{a as w}from"/build/_shared/chunk-YGYQMOER.js";import"/build/_shared/chunk-24SVIZHC.js";import"/build/_shared/chunk-6WZNKZUR.js";import{b as r}from"/build/_shared/chunk-ZL2D2BLU.js";import"/build/_shared/chunk-X5H4KKWG.js";import"/build/_shared/chunk-5WLYYZL3.js";import{a as z}from"/build/_shared/chunk-3RGK6QCO.js";import{a as V}from"/build/_shared/chunk-3EL5GIA4.js";import{a as K}from"/build/_shared/chunk-5JZUYYED.js";import{a as O}from"/build/_shared/chunk-PGOH7JLP.js";import{b as c,d as u,f as g,h as l,l as f}from"/build/_shared/chunk-LPZMHNQ2.js";import{a as _,b as h}from"/build/_shared/chunk-4HXKWYDW.js";import{b as G,c as a}from"/build/_shared/chunk-Q3IECNXJ.js";var E=G((ie,U)=>{U.exports={}});var o=a(_(),1),W=a(O(),1);var Y=a(j(),1);var H=a(K(),1),Z=a(V(),1),q=a(z(),1),ee=a(X(),1),d=a(Q(),1),te=a(E(),1);var ae=a(J(),1),e=a(h(),1),re=w(t=>"\uD1A0\uB860: "+t.name);function oe({comment:t,threadUsername:i}){let[n,s]=o.default.useState("1");return(0,e.jsxs)("li",{className:"m-3 p-0 border border-gray-300 rounded",children:[(0,e.jsxs)("div",{className:"block sm:flex p-2 rounded-tl rounded-tr "+(i===t.username?"bg-primary/30":"bg-gray-300"),children:[(0,e.jsxs)("span",{className:"sm:me-auto",children:[(0,e.jsx)("a",{href:`#${t.index}`,className:"text-blue-500 hover:text-blue-400",children:(0,e.jsxs)("span",{id:`#${t.index}`,children:["#",t.index]})}),"\xA0",(0,e.jsx)(C,{username:t.username,ip:t.ip})]}),(0,e.jsxs)("span",{className:"flex",children:[(0,e.jsx)(N,{date:t.date}),(0,e.jsxs)(D,{children:[(0,e.jsx)(k,{asChild:!0,children:(0,e.jsx)(r,{variant:"ghost",className:"w-6 h-6 p-0 m-auto ms-1",children:(0,e.jsx)(v,{size:16})})}),(0,e.jsx)(b,{className:"w-56",children:(0,e.jsxs)(x,{value:n,onValueChange:s,children:[(0,e.jsx)(p,{value:"1",children:"\uC704\uD0A4 \uBCF4\uAE30"}),(0,e.jsx)(p,{value:"0",children:"\uC6D0\uBB38 \uBCF4\uAE30"})]})})]})]})]}),t.state===0?(0,e.jsx)("div",{className:"bg-gray-200 text-gray-600 p-3",children:"\uC0AD\uC81C\uB41C \uB313\uAE00"}):t.state===1?n==="1"?(0,e.jsx)("div",{className:"wiki p-3 overflow-x-auto",dangerouslySetInnerHTML:{__html:t.html}}):(0,e.jsx)("pre",{className:"text-sm p-3 overflow-x-auto",children:t.content}):t.state===2?(0,e.jsx)("div",{className:"bg-green-200 p-3",children:"\uC4F0\uB808\uB4DC\uB97C \uB2E4\uC2DC \uC5F4\uC5C8\uC2B5\uB2C8\uB2E4."}):t.state===3?(0,e.jsx)("div",{className:"bg-orange-200 p-3",children:"\uC4F0\uB808\uB4DC\uB97C \uB2EB\uC558\uC2B5\uB2C8\uB2E4."}):null]})}function P(){let t=f(),i=u(),n=c(),s=(0,o.useRef)(null);return o.default.useEffect(()=>{let m=setInterval(()=>{i.state==="idle"&&i.revalidate()},2e3);return()=>{clearInterval(m)}},[i]),o.default.useEffect(()=>{window.scroll({top:document.body.scrollHeight*2,left:0,behavior:"smooth"})},[t.comments.length]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I,{namespace:t.namespace,title:t.title,date:t.date,rever:t.rever,thread:t.thread,type:"discuss"}),(0,e.jsxs)("div",{className:"block sm:flex",children:[(0,e.jsx)("h2",{className:"text-xl font-bold sm:me-auto",children:t.name}),t.isAdmin?(0,e.jsx)("div",{className:"flex justify-end sm:inline-block",children:t.state===1?(0,e.jsxs)(S,{children:[(0,e.jsx)(M,{asChild:!0,children:(0,e.jsx)(r,{variant:"destructive",children:"\uC2A4\uB808\uB4DC \uB2EB\uAE30"})}),(0,e.jsxs)(T,{className:"sm:max-w-[425px]",children:[(0,e.jsxs)(R,{children:[(0,e.jsx)(F,{children:"\uC2A4\uB808\uB4DC \uB2EB\uAE30"}),(0,e.jsx)(L,{children:"\uC815\uB9D0\uB85C \uC4F0\uB808\uB4DC\uB97C \uB2EB\uACA0\uC2B5\uB2C8\uAE4C?"})]}),(0,e.jsx)(A,{children:(0,e.jsx)(l,{to:"/close-thread/"+t.id,children:(0,e.jsx)(r,{type:"submit",variant:"destructive",children:"\uC2A4\uB808\uB4DC \uB2EB\uAE30"})})})]})]}):(0,e.jsx)(l,{to:"/open-thread/"+t.id,children:(0,e.jsx)(r,{children:"\uC2A4\uB808\uB4DC \uC5F4\uAE30"})})}):null]}),(0,e.jsx)("ul",{children:t.comments.map((m,$)=>(0,e.jsx)(oe,{threadUsername:t.threadUsername,comment:m},"wiki-thread-item-"+$))}),t.state===1?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h2",{className:"text-xl font-bold mt-4 mb-2",children:"\uB313\uAE00 \uB2EC\uAE30"}),(0,e.jsxs)(g,{method:"POST",action:n.pathname,preventScrollReset:!0,className:"mx-auto w-11/12 md:w-[95%] lg:w-[98%]",onSubmit:()=>{s.current&&s.current.reset()},children:[(0,e.jsx)(B,{className:"h-28",value:"",name:"content",ref:s}),(0,e.jsx)(r,{type:"submit",children:"\uBCF4\uB0B4\uAE30"})]})]}):(0,e.jsx)("div",{className:"border border-gray-300 bg-gray-200 rounded flex m-4 h-20",children:(0,e.jsxs)("span",{className:"mx-auto flex",children:[(0,e.jsx)(y,{className:"my-auto me-1 h-4 w-4 opacity-70"})," ",(0,e.jsx)("span",{className:"my-auto text-sm",children:"\uC2A4\uB808\uB4DC\uAC00 \uB2EB\uD600 \uC788\uC2B5\uB2C8\uB2E4."})]})})]})}export{P as default,re as meta};
