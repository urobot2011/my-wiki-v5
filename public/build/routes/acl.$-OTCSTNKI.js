import{a as Ue,b as je,c as H,d as ge}from"/build/_shared/chunk-XKAX2QHM.js";import{a as Ut,b as jt,c as Kt,d as Gt}from"/build/_shared/chunk-3FBYVQNN.js";import{a as Vt,b as Bt,c as Ft,d as Ht,e as He,f as Wt}from"/build/_shared/chunk-MFB7AD42.js";import{a as zt,b as Yt,c as Xt,d as Pe,e as Zt,f as We}from"/build/_shared/chunk-VZCV53RV.js";import{a as Mt}from"/build/_shared/chunk-UWPJM7AV.js";import{a as kt}from"/build/_shared/chunk-BGGU76WW.js";import"/build/_shared/chunk-43C3X2NS.js";import{a as No}from"/build/_shared/chunk-6ONBEGK5.js";import{a as Lt}from"/build/_shared/chunk-JYUNOVIT.js";import{a as Io}from"/build/_shared/chunk-KLBELPZN.js";import{a as vt,b as ht,c as $t,d as bt,e as Rt,f as _t,i as Et,k as At}from"/build/_shared/chunk-MEPO3LXF.js";import{a as yt,b as Pt}from"/build/_shared/chunk-QBFJKGXD.js";import{a as Ot}from"/build/_shared/chunk-TV54ZEOX.js";import{a as gt,b as St,c as Be,d as Tt,e as It,f as Nt}from"/build/_shared/chunk-CX5Y3VPS.js";import{a as Ce,e as wt,f as xt,g as fe,j as Ct}from"/build/_shared/chunk-K6RWFLHP.js";import{c as Fe}from"/build/_shared/chunk-7AP6T45O.js";import{a as xe}from"/build/_shared/chunk-3BPYJKF7.js";import{a as yo}from"/build/_shared/chunk-W6BRDIS7.js";import{a as pt}from"/build/_shared/chunk-YGYQMOER.js";import{a as Dt}from"/build/_shared/chunk-IO2FGCGE.js";import{a as ye}from"/build/_shared/chunk-MJAB2ZWH.js";import{a as ke}from"/build/_shared/chunk-3UGPLOKH.js";import"/build/_shared/chunk-24SVIZHC.js";import{a as R,c as mt,d as z,e as ft,f as Ve}from"/build/_shared/chunk-6WZNKZUR.js";import{b as G}from"/build/_shared/chunk-ZL2D2BLU.js";import{a as M}from"/build/_shared/chunk-X5H4KKWG.js";import{b as K,c as I,e as F,f as ut}from"/build/_shared/chunk-5WLYYZL3.js";import{a as To}from"/build/_shared/chunk-3EL5GIA4.js";import{a as Po}from"/build/_shared/chunk-5JZUYYED.js";import{a as Co}from"/build/_shared/chunk-PGOH7JLP.js";import{a as xo,b as lt,f as it,h as st,l as dt}from"/build/_shared/chunk-LPZMHNQ2.js";import{a as Le,b as we}from"/build/_shared/chunk-4HXKWYDW.js";import{c as O}from"/build/_shared/chunk-Q3IECNXJ.js";var q=O(Le(),1),$o=O(Co(),1);var Q=O(Le(),1);var e=O(Le(),1),ze=O(xo(),1);function Ke(o,[a,n]){return Math.min(n,Math.max(a,o))}var Ro=[" ","Enter","ArrowUp","ArrowDown"],_o=[" ","Enter"],Ie="Select",[Ne,Re,Eo]=yt(Ie),[ie,Fn]=mt(Ie,[Eo,Be]),Ye=Be(),[Ao,oe]=ie(Ie),[Oo,Do]=ie(Ie),Mo=o=>{let{__scopeSelect:a,children:n,open:r,defaultOpen:s,onOpenChange:u,value:i,defaultValue:c,onValueChange:l,dir:d,name:v,autoComplete:f,disabled:p,required:$}=o,S=Ye(a),[b,y]=(0,e.useState)(null),[h,m]=(0,e.useState)(null),[w,pe]=(0,e.useState)(!1),k=Pt(d),[ue=!1,A]=Ve({prop:r,defaultProp:s,onChange:u}),[L,ee]=Ve({prop:i,defaultProp:c,onChange:l}),ae=(0,e.useRef)(null),te=b?Boolean(b.closest("form")):!0,[W,X]=(0,e.useState)(new Set),Z=Array.from(W).map(_=>_.props.value).join(";");return(0,e.createElement)(Tt,S,(0,e.createElement)(Ao,{required:$,scope:a,trigger:b,onTriggerChange:y,valueNode:h,onValueNodeChange:m,valueNodeHasChildren:w,onValueNodeHasChildrenChange:pe,contentId:xe(),value:L,onValueChange:ee,open:ue,onOpenChange:A,dir:k,triggerPointerDownPosRef:ae,disabled:p},(0,e.createElement)(Ne.Provider,{scope:a},(0,e.createElement)(Oo,{scope:o.__scopeSelect,onNativeOptionAdd:(0,e.useCallback)(_=>{X(U=>new Set(U).add(_))},[]),onNativeOptionRemove:(0,e.useCallback)(_=>{X(U=>{let j=new Set(U);return j.delete(_),j})},[])},n)),te?(0,e.createElement)(ro,{key:Z,"aria-hidden":!0,required:$,tabIndex:-1,name:v,autoComplete:f,value:L,onChange:_=>ee(_.target.value),disabled:p},L===void 0?(0,e.createElement)("option",{value:""}):null,Array.from(W)):null))},Lo="SelectTrigger",ko=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,disabled:r=!1,...s}=o,u=Ye(n),i=oe(Lo,n),c=i.disabled||r,l=F(a,i.onTriggerChange),d=Re(n),[v,f,p]=co(S=>{let b=d().filter(m=>!m.disabled),y=b.find(m=>m.value===i.value),h=lo(b,S,y);h!==void 0&&i.onValueChange(h.value)}),$=()=>{c||(i.onOpenChange(!0),p())};return(0,e.createElement)(It,I({asChild:!0},u),(0,e.createElement)(M.button,I({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ao(i.value)?"":void 0},s,{ref:l,onClick:R(s.onClick,S=>{S.currentTarget.focus()}),onPointerDown:R(s.onPointerDown,S=>{let b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&($(),i.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)},S.preventDefault())}),onKeyDown:R(s.onKeyDown,S=>{let b=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&f(S.key),!(b&&S.key===" ")&&Ro.includes(S.key)&&($(),S.preventDefault())})})))}),Vo="SelectValue",Bo=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,className:r,style:s,children:u,placeholder:i="",...c}=o,l=oe(Vo,n),{onValueNodeHasChildrenChange:d}=l,v=u!==void 0,f=F(a,l.onValueNodeChange);return z(()=>{d(v)},[d,v]),(0,e.createElement)(M.span,I({},c,{ref:f,style:{pointerEvents:"none"}}),ao(l.value)?(0,e.createElement)(e.Fragment,null,i):u)});var Fo=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,children:r,...s}=o;return(0,e.createElement)(M.span,I({"aria-hidden":!0},s,{ref:a}),r||"\u25BC")});var Ho=o=>(0,e.createElement)(St,I({asChild:!0},o)),le="SelectContent",Wo=(0,e.forwardRef)((o,a)=>{let n=oe(le,o.__scopeSelect),[r,s]=(0,e.useState)();if(z(()=>{s(new DocumentFragment)},[]),!n.open){let u=r;return u?(0,ze.createPortal)((0,e.createElement)(to,{scope:o.__scopeSelect},(0,e.createElement)(Ne.Slot,{scope:o.__scopeSelect},(0,e.createElement)("div",null,o.children))),u):null}return(0,e.createElement)(Uo,I({},o,{ref:a}))}),Y=10,[to,ne]=ie(le);var Uo=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:u,onPointerDownOutside:i,side:c,sideOffset:l,align:d,alignOffset:v,arrowPadding:f,collisionBoundary:p,collisionPadding:$,sticky:S,hideWhenDetached:b,avoidCollisions:y,...h}=o,m=oe(le,n),[w,pe]=(0,e.useState)(null),[k,ue]=(0,e.useState)(null),A=F(a,g=>pe(g)),[L,ee]=(0,e.useState)(null),[ae,te]=(0,e.useState)(null),W=Re(n),[X,Z]=(0,e.useState)(!1),_=(0,e.useRef)(!1);(0,e.useEffect)(()=>{if(w)return bt(w)},[w]),ht();let U=(0,e.useCallback)(g=>{let[P,...D]=W().map(C=>C.ref.current),[T]=D.slice(-1),x=document.activeElement;for(let C of g)if(C===x||(C?.scrollIntoView({block:"nearest"}),C===P&&k&&(k.scrollTop=0),C===T&&k&&(k.scrollTop=k.scrollHeight),C?.focus(),document.activeElement!==x))return},[W,k]),j=(0,e.useCallback)(()=>U([L,w]),[U,L,w]);(0,e.useEffect)(()=>{X&&j()},[X,j]);let{onOpenChange:re,triggerPointerDownPosRef:J}=m;(0,e.useEffect)(()=>{if(w){let g={x:0,y:0},P=T=>{var x,C,V,B;g={x:Math.abs(Math.round(T.pageX)-((x=(C=J.current)===null||C===void 0?void 0:C.x)!==null&&x!==void 0?x:0)),y:Math.abs(Math.round(T.pageY)-((V=(B=J.current)===null||B===void 0?void 0:B.y)!==null&&V!==void 0?V:0))}},D=T=>{g.x<=10&&g.y<=10?T.preventDefault():w.contains(T.target)||re(!1),document.removeEventListener("pointermove",P),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",D,{capture:!0})}}},[w,re,J]),(0,e.useEffect)(()=>{let g=()=>re(!1);return window.addEventListener("blur",g),window.addEventListener("resize",g),()=>{window.removeEventListener("blur",g),window.removeEventListener("resize",g)}},[re]);let[_e,$e]=co(g=>{let P=W().filter(x=>!x.disabled),D=P.find(x=>x.ref.current===document.activeElement),T=lo(P,g,D);T&&setTimeout(()=>T.ref.current.focus())}),Ee=(0,e.useCallback)((g,P,D)=>{let T=!_.current&&!D;(m.value!==void 0&&m.value===P||T)&&(ee(g),T&&(_.current=!0))},[m.value]),Ae=(0,e.useCallback)(()=>w?.focus(),[w]),ce=(0,e.useCallback)((g,P,D)=>{let T=!_.current&&!D;(m.value!==void 0&&m.value===P||T)&&te(g)},[m.value]),be=r==="popper"?Jt:jo,me=be===Jt?{side:c,sideOffset:l,align:d,alignOffset:v,arrowPadding:f,collisionBoundary:p,collisionPadding:$,sticky:S,hideWhenDetached:b,avoidCollisions:y}:{};return(0,e.createElement)(to,{scope:n,content:w,viewport:k,onViewportChange:ue,itemRefCallback:Ee,selectedItem:L,onItemLeave:Ae,itemTextRefCallback:ce,focusSelectedItem:j,selectedItemText:ae,position:r,isPositioned:X,searchRef:_e},(0,e.createElement)($t,{as:ut,allowPinchZoom:!0},(0,e.createElement)(vt,{asChild:!0,trapped:m.open,onMountAutoFocus:g=>{g.preventDefault()},onUnmountAutoFocus:R(s,g=>{var P;(P=m.trigger)===null||P===void 0||P.focus({preventScroll:!0}),g.preventDefault()})},(0,e.createElement)(gt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:i,onFocusOutside:g=>g.preventDefault(),onDismiss:()=>m.onOpenChange(!1)},(0,e.createElement)(be,I({role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:g=>g.preventDefault()},h,me,{onPlaced:()=>Z(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:R(h.onKeyDown,g=>{let P=g.ctrlKey||g.altKey||g.metaKey;if(g.key==="Tab"&&g.preventDefault(),!P&&g.key.length===1&&$e(g.key),["ArrowUp","ArrowDown","Home","End"].includes(g.key)){let T=W().filter(x=>!x.disabled).map(x=>x.ref.current);if(["ArrowUp","End"].includes(g.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(g.key)){let x=g.target,C=T.indexOf(x);T=T.slice(C+1)}setTimeout(()=>U(T)),g.preventDefault()}})}))))))});var jo=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,onPlaced:r,...s}=o,u=oe(le,n),i=ne(le,n),[c,l]=(0,e.useState)(null),[d,v]=(0,e.useState)(null),f=F(a,A=>v(A)),p=Re(n),$=(0,e.useRef)(!1),S=(0,e.useRef)(!0),{viewport:b,selectedItem:y,selectedItemText:h,focusSelectedItem:m}=i,w=(0,e.useCallback)(()=>{if(u.trigger&&u.valueNode&&c&&d&&b&&y&&h){let A=u.trigger.getBoundingClientRect(),L=d.getBoundingClientRect(),ee=u.valueNode.getBoundingClientRect(),ae=h.getBoundingClientRect();if(u.dir!=="rtl"){let x=ae.left-L.left,C=ee.left-x,V=A.left-C,B=A.width+V,Oe=Math.max(B,L.width),De=window.innerWidth-Y,Me=Ke(C,[Y,De-Oe]);c.style.minWidth=B+"px",c.style.left=Me+"px"}else{let x=L.right-ae.right,C=window.innerWidth-ee.right-x,V=window.innerWidth-A.right-C,B=A.width+V,Oe=Math.max(B,L.width),De=window.innerWidth-Y,Me=Ke(C,[Y,De-Oe]);c.style.minWidth=B+"px",c.style.right=Me+"px"}let te=p(),W=window.innerHeight-Y*2,X=b.scrollHeight,Z=window.getComputedStyle(d),_=parseInt(Z.borderTopWidth,10),U=parseInt(Z.paddingTop,10),j=parseInt(Z.borderBottomWidth,10),re=parseInt(Z.paddingBottom,10),J=_+U+X+re+j,_e=Math.min(y.offsetHeight*5,J),$e=window.getComputedStyle(b),Ee=parseInt($e.paddingTop,10),Ae=parseInt($e.paddingBottom,10),ce=A.top+A.height/2-Y,be=W-ce,me=y.offsetHeight/2,g=y.offsetTop+me,P=_+U+g,D=J-P;if(P<=ce){let x=y===te[te.length-1].ref.current;c.style.bottom="0px";let C=d.clientHeight-b.offsetTop-b.offsetHeight,V=Math.max(be,me+(x?Ae:0)+C+j),B=P+V;c.style.height=B+"px"}else{let x=y===te[0].ref.current;c.style.top="0px";let V=Math.max(ce,_+b.offsetTop+(x?Ee:0)+me)+D;c.style.height=V+"px",b.scrollTop=P-ce+b.offsetTop}c.style.margin=`${Y}px 0`,c.style.minHeight=_e+"px",c.style.maxHeight=W+"px",r?.(),requestAnimationFrame(()=>$.current=!0)}},[p,u.trigger,u.valueNode,c,d,b,y,h,u.dir,r]);z(()=>w(),[w]);let[pe,k]=(0,e.useState)();z(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);let ue=(0,e.useCallback)(A=>{A&&S.current===!0&&(w(),m?.(),S.current=!1)},[w,m]);return(0,e.createElement)(Ko,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:$,onScrollButtonChange:ue},(0,e.createElement)("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:pe}},(0,e.createElement)(M.div,I({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))});var Jt=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,align:r="start",collisionPadding:s=Y,...u}=o,i=Ye(n);return(0,e.createElement)(Nt,I({},i,u,{ref:a,align:r,collisionPadding:s,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Ko,Xe]=ie(le,{}),Qt="SelectViewport",Go=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,...r}=o,s=ne(Qt,n),u=Xe(Qt,n),i=F(a,s.onViewportChange),c=(0,e.useRef)(0);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,e.createElement)(Ne.Slot,{scope:n},(0,e.createElement)(M.div,I({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:R(r.onScroll,l=>{let d=l.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:f}=u;if(f!=null&&f.current&&v){let p=Math.abs(c.current-d.scrollTop);if(p>0){let $=window.innerHeight-Y*2,S=parseFloat(v.style.minHeight),b=parseFloat(v.style.height),y=Math.max(S,b);if(y<$){let h=y+p,m=Math.min($,h),w=h-m;v.style.height=m+"px",v.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,v.style.justifyContent="flex-end")}}}c.current=d.scrollTop})}))))}),zo="SelectGroup",[Yo,Xo]=ie(zo),Zo=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,...r}=o,s=xe();return(0,e.createElement)(Yo,{scope:n,id:s},(0,e.createElement)(M.div,I({role:"group","aria-labelledby":s},r,{ref:a})))}),Jo="SelectLabel",Qo=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,...r}=o,s=Xo(Jo,n);return(0,e.createElement)(M.div,I({id:s.id},r,{ref:a}))}),Ge="SelectItem",[qo,oo]=ie(Ge),en=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,value:r,disabled:s=!1,textValue:u,...i}=o,c=oe(Ge,n),l=ne(Ge,n),d=c.value===r,[v,f]=(0,e.useState)(u??""),[p,$]=(0,e.useState)(!1),S=F(a,h=>{var m;return(m=l.itemRefCallback)===null||m===void 0?void 0:m.call(l,h,r,s)}),b=xe(),y=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,e.createElement)(qo,{scope:n,value:r,disabled:s,textId:b,isSelected:d,onItemTextChange:(0,e.useCallback)(h=>{f(m=>{var w;return m||((w=h?.textContent)!==null&&w!==void 0?w:"").trim()})},[])},(0,e.createElement)(Ne.ItemSlot,{scope:n,value:r,disabled:s,textValue:v},(0,e.createElement)(M.div,I({role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},i,{ref:S,onFocus:R(i.onFocus,()=>$(!0)),onBlur:R(i.onBlur,()=>$(!1)),onPointerUp:R(i.onPointerUp,y),onPointerMove:R(i.onPointerMove,h=>{if(s){var m;(m=l.onItemLeave)===null||m===void 0||m.call(l)}else h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:R(i.onPointerLeave,h=>{if(h.currentTarget===document.activeElement){var m;(m=l.onItemLeave)===null||m===void 0||m.call(l)}}),onKeyDown:R(i.onKeyDown,h=>{var m;((m=l.searchRef)===null||m===void 0?void 0:m.current)!==""&&h.key===" "||(_o.includes(h.key)&&y(),h.key===" "&&h.preventDefault())})}))))}),Te="SelectItemText",tn=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,className:r,style:s,...u}=o,i=oe(Te,n),c=ne(Te,n),l=oo(Te,n),d=Do(Te,n),[v,f]=(0,e.useState)(null),p=F(a,h=>f(h),l.onItemTextChange,h=>{var m;return(m=c.itemTextRefCallback)===null||m===void 0?void 0:m.call(c,h,l.value,l.disabled)}),$=v?.textContent,S=(0,e.useMemo)(()=>(0,e.createElement)("option",{key:l.value,value:l.value,disabled:l.disabled},$),[l.disabled,l.value,$]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=d;return z(()=>(b(S),()=>y(S)),[b,y,S]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(M.span,I({id:l.textId},u,{ref:p})),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?(0,ze.createPortal)(u.children,i.valueNode):null)}),on="SelectItemIndicator",nn=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,...r}=o;return oo(on,n).isSelected?(0,e.createElement)(M.span,I({"aria-hidden":!0},r,{ref:a})):null}),qt="SelectScrollUpButton",an=(0,e.forwardRef)((o,a)=>{let n=ne(qt,o.__scopeSelect),r=Xe(qt,o.__scopeSelect),[s,u]=(0,e.useState)(!1),i=F(a,r.onScrollButtonChange);return z(()=>{if(n.viewport&&n.isPositioned){let l=function(){let d=c.scrollTop>0;u(d)},c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?(0,e.createElement)(no,I({},o,{ref:i,onAutoScroll:()=>{let{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}})):null}),eo="SelectScrollDownButton",rn=(0,e.forwardRef)((o,a)=>{let n=ne(eo,o.__scopeSelect),r=Xe(eo,o.__scopeSelect),[s,u]=(0,e.useState)(!1),i=F(a,r.onScrollButtonChange);return z(()=>{if(n.viewport&&n.isPositioned){let l=function(){let d=c.scrollHeight-c.clientHeight,v=Math.ceil(c.scrollTop)<d;u(v)},c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?(0,e.createElement)(no,I({},o,{ref:i,onAutoScroll:()=>{let{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}})):null}),no=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,onAutoScroll:r,...s}=o,u=ne("SelectScrollButton",n),i=(0,e.useRef)(null),c=Re(n),l=(0,e.useCallback)(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return(0,e.useEffect)(()=>()=>l(),[l]),z(()=>{var d;let v=c().find(f=>f.ref.current===document.activeElement);v==null||(d=v.ref.current)===null||d===void 0||d.scrollIntoView({block:"nearest"})},[c]),(0,e.createElement)(M.div,I({"aria-hidden":!0},s,{ref:a,style:{flexShrink:0,...s.style},onPointerDown:R(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:R(s.onPointerMove,()=>{var d;(d=u.onItemLeave)===null||d===void 0||d.call(u),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:R(s.onPointerLeave,()=>{l()})}))});var cn=(0,e.forwardRef)((o,a)=>{let{__scopeSelect:n,...r}=o;return(0,e.createElement)(M.div,I({"aria-hidden":!0},r,{ref:a}))});function ao(o){return o===""||o===void 0}var ro=(0,e.forwardRef)((o,a)=>{let{value:n,...r}=o,s=(0,e.useRef)(null),u=F(a,s),i=Dt(n);return(0,e.useEffect)(()=>{let c=s.current,l=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==n&&v){let f=new Event("change",{bubbles:!0});v.call(c,n),c.dispatchEvent(f)}},[i,n]),(0,e.createElement)(Mt,{asChild:!0},(0,e.createElement)("select",I({},r,{ref:u,defaultValue:n})))});ro.displayName="BubbleSelect";function co(o){let a=ft(o),n=(0,e.useRef)(""),r=(0,e.useRef)(0),s=(0,e.useCallback)(i=>{let c=n.current+i;a(c),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[a]),u=(0,e.useCallback)(()=>{n.current="",window.clearTimeout(r.current)},[]);return(0,e.useEffect)(()=>()=>window.clearTimeout(r.current),[]),[n,s,u]}function lo(o,a,n){let s=a.length>1&&Array.from(a).every(d=>d===a[0])?a[0]:a,u=n?o.indexOf(n):-1,i=ln(o,Math.max(u,0));s.length===1&&(i=i.filter(d=>d!==n));let l=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function ln(o,a){return o.map((n,r)=>o[(a+r)%o.length])}var io=Mo,Ze=ko,so=Bo,po=Fo,uo=Ho,Je=Wo,mo=Go,fo=Zo,Qe=Qo,qe=en,go=tn,vo=nn,et=an,tt=rn,ot=cn;var N=O(we(),1),ve=io,Se=fo,he=so,se=Q.forwardRef(({className:o,children:a,...n},r)=>(0,N.jsxs)(Ze,{ref:r,className:K("flex h-9 w-full items-center justify-between rounded-md border border-gray-300 bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...n,children:[a,(0,N.jsx)(po,{asChild:!0,children:(0,N.jsx)(fe,{className:"h-4 w-4 opacity-50"})})]}));se.displayName=Ze.displayName;var So=Q.forwardRef(({className:o,...a},n)=>(0,N.jsx)(et,{ref:n,className:K("flex cursor-default items-center justify-center py-1",o),...a,children:(0,N.jsx)(Ct,{className:"h-4 w-4"})}));So.displayName=et.displayName;var ho=Q.forwardRef(({className:o,...a},n)=>(0,N.jsx)(tt,{ref:n,className:K("flex cursor-default items-center justify-center py-1",o),...a,children:(0,N.jsx)(fe,{className:"h-4 w-4"})}));ho.displayName=tt.displayName;var de=Q.forwardRef(({className:o,children:a,position:n="popper",...r},s)=>(0,N.jsx)(uo,{children:(0,N.jsxs)(Je,{ref:s,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:n,...r,children:[(0,N.jsx)(So,{}),(0,N.jsx)(mo,{className:K("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,N.jsx)(ho,{})]})}));de.displayName=Je.displayName;var dn=Q.forwardRef(({className:o,...a},n)=>(0,N.jsx)(Qe,{ref:n,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",o),...a}));dn.displayName=Qe.displayName;var E=Q.forwardRef(({className:o,children:a,...n},r)=>(0,N.jsxs)(qe,{ref:r,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...n,children:[(0,N.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,N.jsx)(vo,{children:(0,N.jsx)(xt,{className:"h-4 w-4"})})}),(0,N.jsx)(go,{children:a})]}));E.displayName=qe.displayName;var pn=Q.forwardRef(({className:o,...a},n)=>(0,N.jsx)(ot,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",o),...a}));pn.displayName=ot.displayName;var un=O(yo(),1),mn=O(To(),1),bo=O(Po(),1);var rt=O(Io(),1),ct=O(No(),1);var nt=["read","edit","move","delete","thread_create","comment_create","acl"];var t=O(we(),1),fn=pt(o=>"ACL: "+Lt(o.namespace,o.title));function gn({data:o,editable:a}){let[n,r]=q.default.useState([]),[s,u]=q.default.useState([]),[i,c]=q.default.useState({}),[l,d]=q.default.useState({}),v=[{accessorKey:"condition",header:({column:p})=>(0,t.jsxs)(G,{variant:"ghost",onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),children:["\uB300\uC0C1",(0,t.jsx)(Ce,{className:"ml-2 h-4 w-4"})]}),cell:({row:p})=>(0,t.jsxs)("b",{children:[p.original.condition_type,":",p.original.condition]})},{accessorKey:"action",header:({column:p})=>(0,t.jsxs)(G,{variant:"ghost",onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),children:["\uC870\uCE58",(0,t.jsx)(Ce,{className:"ml-2 h-4 w-4"})]}),cell:({row:p})=>(0,t.jsx)("span",{children:p.getValue("action")?"\uD5C8\uC6A9":"\uAC70\uBD80"})},{accessorKey:"expiration",header:({column:p})=>(0,t.jsxs)(G,{variant:"ghost",onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),children:["\uAE30\uD55C",(0,t.jsx)(Ce,{className:"ml-2 h-4 w-4"})]}),cell:({row:p})=>{let $=p.original.expiration;return(0,t.jsx)("span",{children:$?(0,t.jsx)(Fe,{date:$}):"\uBB34\uAE30\uD55C"})}},...a?[{id:"actions",enableHiding:!1,cell:({row:p})=>(0,t.jsx)(st,{to:"/api/delete-acl/"+p.original.id,className:"text-red-600 hover:text-red-900",children:"\uC0AD\uC81C"})}]:[]],f=Wt({data:o,columns:v,onSortingChange:r,onColumnFiltersChange:u,getCoreRowModel:Vt(),getPaginationRowModel:Ft(),getSortedRowModel:Ht(),getFilteredRowModel:Bt(),onColumnVisibilityChange:c,onRowSelectionChange:d,state:{sorting:n,columnFilters:s,columnVisibility:i,rowSelection:l}});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center py-4",children:[(0,t.jsx)(ke,{placeholder:"\uB300\uC0C1\uC744 \uAC80\uC0C9\uD558\uC138\uC694...",value:f.getColumn("condition")?.getFilterValue()??"",onChange:p=>f.getColumn("condition")?.setFilterValue(p.target.value),className:"max-w-sm"}),(0,t.jsxs)(Rt,{children:[(0,t.jsx)(_t,{asChild:!0,children:(0,t.jsxs)(G,{variant:"outline",className:"ml-auto",children:["Columns ",(0,t.jsx)(fe,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)(Et,{align:"end",children:f.getAllColumns().filter(p=>p.getCanHide()).map(p=>(0,t.jsx)(At,{className:"capitalize",checked:p.getIsVisible(),onCheckedChange:$=>p.toggleVisibility(!!$),children:p.id},p.id))})]})]}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(zt,{children:[(0,t.jsx)(Yt,{children:f.getHeaderGroups().map(p=>(0,t.jsx)(Pe,{children:p.headers.map($=>(0,t.jsx)(Zt,{children:$.isPlaceholder?null:He($.column.columnDef.header,$.getContext())},$.id))},p.id))}),(0,t.jsx)(Xt,{children:f.getRowModel().rows?.length?f.getRowModel().rows.map(p=>(0,t.jsx)(Pe,{"data-state":p.getIsSelected()&&"selected",children:p.getVisibleCells().map($=>(0,t.jsx)(We,{children:He($.column.columnDef.cell,$.getContext())},$.id))},p.id)):(0,t.jsx)(Pe,{children:(0,t.jsx)(We,{colSpan:v.length,className:"h-24 text-center",children:"\uACB0\uACFC \uC5C6\uC74C"})})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,t.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[f.getFilteredSelectedRowModel().rows.length," of ",f.getFilteredRowModel().rows.length," row(s) selected."]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(G,{variant:"outline",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),children:"\uC774\uC804"}),(0,t.jsx)(G,{variant:"outline",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),children:"\uB2E4\uC74C"})]})]})]})}function at({url:o,data:a,groups:n,editable:r}){let[s,u]=q.default.useState("read"),[i,c]=q.default.useState("perm"),[l,d]=q.default.useState(),v={};for(let f of nt)v[f]=[];for(let f of a)v[f.type]?.push(f);return(0,t.jsxs)(Ue,{value:s,onValueChange:u,children:[(0,t.jsxs)(je,{className:"my-0 overflow-x-auto justify-start w-full pb-4",children:[(0,t.jsx)(H,{value:"read",children:"\uC77D\uAE30"}),(0,t.jsx)(H,{value:"edit",children:"\uD3B8\uC9D1"}),(0,t.jsx)(H,{value:"move",children:"\uC774\uB3D9"}),(0,t.jsx)(H,{value:"delete",children:"\uC0AD\uC81C"}),(0,t.jsx)(H,{value:"thread_create",children:"\uC4F0\uB808\uB4DC \uC0DD\uC131"}),(0,t.jsx)(H,{value:"comment_create",children:"\uB313\uAE00 \uC4F0\uAE30"}),(0,t.jsx)(H,{value:"acl",children:"ACL"})]}),r?(0,t.jsx)(it,{method:"POST",action:o+"?type="+s,className:"my-2 mx-auto w-11/12 md:w-[95%] lg:w-[98%]",children:(0,t.jsxs)("div",{className:"block space-y-2 md:flex md:space-x-2 w-full",children:[(0,t.jsx)(ye,{className:"block md:hidden",children:"\uB300\uC0C1"}),(0,t.jsxs)(ve,{defaultValue:"perm",value:i,onValueChange:c,name:"condition_type",children:[(0,t.jsx)(se,{className:"w-full md:w-24",children:(0,t.jsx)(he,{})}),(0,t.jsx)(de,{children:(0,t.jsxs)(Se,{children:[(0,t.jsx)(E,{value:"perm",children:"\uAD8C\uD55C"}),(0,t.jsx)(E,{value:"member",children:"\uC0AC\uC6A9\uC790"}),(0,t.jsx)(E,{value:"ip",children:"\uC544\uC774\uD53C"}),(0,t.jsx)(E,{value:"geoip",children:"GeoIP"}),(0,t.jsx)(E,{value:"group",children:"\uADF8\uB8F9"})]})})]}),i==="perm"?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(ve,{defaultValue:"any",name:"condition",children:[(0,t.jsx)(se,{className:"w-full",children:(0,t.jsx)(he,{})}),(0,t.jsx)(de,{children:(0,t.jsxs)(Se,{children:[(0,t.jsx)(E,{value:"any",children:"\uC544\uBB34\uB098"}),(0,t.jsx)(E,{value:"member",children:"\uD68C\uC6D0"}),(0,t.jsx)(E,{value:"admin",children:"\uAD00\uB9AC\uC790"}),(0,t.jsx)(E,{value:"document_contributor",children:"\uBB38\uC11C \uC0DD\uC131\uC790"}),(0,t.jsx)(E,{value:"match_username_and_document_title",children:"\uBB38\uC11C \uC774\uB984\uACFC \uC0AC\uC6A9\uC790 \uC774\uB984\uC774 \uAC19\uC74C"})]})})]})}):i==="group"?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(ve,{name:"condition",children:[(0,t.jsx)(se,{className:"w-full",children:(0,t.jsx)(he,{placeholder:"\uADF8\uB8F9\uC744 \uC120\uD0DD\uD558\uC138\uC694..."})}),(0,t.jsx)(de,{children:(0,t.jsx)(Se,{children:n.map(f=>(0,t.jsx)(E,{value:f.name,children:f.name},f.id))})})]})}):(0,t.jsx)(ke,{name:"condition",className:"w-full",type:"text",placeholder:"\uB300\uC0C1"}),(0,t.jsx)(ye,{className:"block md:hidden",htmlFor:"action",children:"\uC870\uCE58"}),(0,t.jsxs)(ve,{defaultValue:"1",name:"action",children:[(0,t.jsx)(se,{className:"w-full md:w-24",id:"action",children:(0,t.jsx)(he,{})}),(0,t.jsx)(de,{children:(0,t.jsxs)(Se,{children:[(0,t.jsx)(E,{value:"1",children:"\uD5C8\uC6A9"}),(0,t.jsx)(E,{value:"0",children:"\uAC70\uBD80"})]})})]}),(0,t.jsx)(ye,{className:"block md:hidden",htmlFor:"expiration",children:"\uAE30\uD55C"}),(0,t.jsxs)(jt,{children:[(0,t.jsx)(Kt,{asChild:!0,children:(0,t.jsxs)(G,{variant:"outline",className:"w-full md:w-auto",id:"expiration",children:[l?(0,t.jsx)(Fe,{date:l.getTime()}):(0,t.jsx)("span",{children:"\uBB34\uAE30\uD55C"}),(0,t.jsx)(wt,{className:"ml-auto h-4 w-4 opacity-50"})]})}),(0,t.jsx)(Gt,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(Ut,{mode:"single",selected:l,onSelect:d,initialFocus:!0})})]}),(0,t.jsx)("input",{type:"hidden",name:"expiration",value:l?.getTime()}),(0,t.jsx)(G,{type:"submit",children:"\uCD94\uAC00"})]})}):null,nt.map(f=>(0,t.jsx)(ge,{value:f,className:"my-0",children:(0,t.jsx)(gn,{data:v[f],editable:r})},f))]})}function wo(){let o=dt(),a=lt();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(kt,{namespace:o.namespace,title:o.title,date:o.date,rever:o.rever,thread:o.thread,type:"acl"}),(0,t.jsxs)(Ue,{defaultValue:"doc",className:"mx-auto w-11/12 md:w-[95%] lg:w-[98%]",children:[(0,t.jsxs)(je,{children:[o.namespace!==null?(0,t.jsx)(H,{value:"all",children:"\uC804\uCCB4 \uBB38\uC11C ACL"}):null,(0,t.jsx)(H,{value:"namespace",children:"\uC774\uB984 \uACF5\uAC04 ACL"}),(0,t.jsx)(H,{value:"doc",children:"\uBB38\uC11C ACL"})]}),o.namespace!==null?(0,t.jsx)(ge,{value:"all",className:"my-0",children:(0,t.jsx)(at,{url:"/acl/",data:o.allAcl,groups:o.groups,editable:o.editable})}):null,(0,t.jsx)(ge,{value:"namespace",className:"my-0",children:(0,t.jsx)(at,{url:"/acl/"+(o.namespace?Ot(o.namespace)+":":""),data:o.namespaceAcl,groups:o.groups,editable:o.editable})}),(0,t.jsx)(ge,{value:"doc",className:"my-0",children:(0,t.jsx)(at,{url:a.pathname,data:o.docAcl,groups:o.groups,editable:o.editable})})]})]})}export{wo as default,fn as meta};
