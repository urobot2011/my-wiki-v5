import{a as J}from"/build/_shared/chunk-BGGU76WW.js";import"/build/_shared/chunk-43C3X2NS.js";import{a as ee}from"/build/_shared/chunk-6ONBEGK5.js";import{a as P}from"/build/_shared/chunk-JYUNOVIT.js";import{a as k}from"/build/_shared/chunk-KLBELPZN.js";import"/build/_shared/chunk-MEPO3LXF.js";import"/build/_shared/chunk-QBFJKGXD.js";import"/build/_shared/chunk-TV54ZEOX.js";import"/build/_shared/chunk-CX5Y3VPS.js";import"/build/_shared/chunk-K6RWFLHP.js";import{a as $}from"/build/_shared/chunk-7AP6T45O.js";import"/build/_shared/chunk-3BPYJKF7.js";import{a as Y}from"/build/_shared/chunk-W6BRDIS7.js";import{a as D}from"/build/_shared/chunk-YGYQMOER.js";import"/build/_shared/chunk-24SVIZHC.js";import"/build/_shared/chunk-6WZNKZUR.js";import"/build/_shared/chunk-ZL2D2BLU.js";import"/build/_shared/chunk-X5H4KKWG.js";import"/build/_shared/chunk-5WLYYZL3.js";import{a as _}from"/build/_shared/chunk-3EL5GIA4.js";import{a as K}from"/build/_shared/chunk-5JZUYYED.js";import{a as Q}from"/build/_shared/chunk-PGOH7JLP.js";import{l as M}from"/build/_shared/chunk-LPZMHNQ2.js";import{b as W}from"/build/_shared/chunk-4HXKWYDW.js";import{c as w}from"/build/_shared/chunk-Q3IECNXJ.js";var Z=w(Q(),1);var le=w(Y(),1),se=w(_(),1),B=w(K(),1);var A=w(k(),1),fe=w(ee(),1);function v(){}v.prototype={diff:function(e,r){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=o.callback;typeof o=="function"&&(t=o,o={}),this.options=o;var l=this;function s(d){return t?(setTimeout(function(){t(void 0,d)},0),!0):d}e=this.castInput(e),r=this.castInput(r),e=this.removeEmpty(this.tokenize(e)),r=this.removeEmpty(this.tokenize(r));var f=r.length,u=e.length,p=1,a=f+u;o.maxEditLength&&(a=Math.min(a,o.maxEditLength));var L=(i=o.timeout)!==null&&i!==void 0?i:1/0,H=Date.now()+L,c=[{oldPos:-1,lastComponent:void 0}],h=this.extractCommon(c[0],r,e,0);if(c[0].oldPos+1>=u&&h+1>=f)return s([{value:this.join(r),count:r.length}]);var x=-1/0,y=1/0;function T(){for(var d=Math.max(x,-p);d<=Math.min(y,p);d+=2){var g=void 0,F=c[d-1],N=c[d+1];F&&(c[d-1]=void 0);var b=!1;if(N){var R=N.oldPos-d;b=N&&0<=R&&R<f}var z=F&&F.oldPos+1<u;if(!b&&!z){c[d]=void 0;continue}if(!z||b&&F.oldPos+1<N.oldPos?g=l.addToPath(N,!0,void 0,0):g=l.addToPath(F,void 0,!0,1),h=l.extractCommon(g,r,e,d),g.oldPos+1>=u&&h+1>=f)return s(ne(l,g.lastComponent,r,e,l.useLongestToken));c[d]=g,g.oldPos+1>=u&&(y=Math.min(y,d-1)),h+1>=f&&(x=Math.max(x,d+1))}p++}if(t)(function d(){setTimeout(function(){if(p>a||Date.now()>H)return t();T()||d()},0)})();else for(;p<=a&&Date.now()<=H;){var C=T();if(C)return C}},addToPath:function(e,r,i,o){var t=e.lastComponent;return t&&t.added===r&&t.removed===i?{oldPos:e.oldPos+o,lastComponent:{count:t.count+1,added:r,removed:i,previousComponent:t.previousComponent}}:{oldPos:e.oldPos+o,lastComponent:{count:1,added:r,removed:i,previousComponent:t}}},extractCommon:function(e,r,i,o){for(var t=r.length,l=i.length,s=e.oldPos,f=s-o,u=0;f+1<t&&s+1<l&&this.equals(r[f+1],i[s+1]);)f++,s++,u++;return u&&(e.lastComponent={count:u,previousComponent:e.lastComponent}),e.oldPos=s,f},equals:function(e,r){return this.options.comparator?this.options.comparator(e,r):e===r||this.options.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],i=0;i<e.length;i++)e[i]&&r.push(e[i]);return r},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function ne(n,e,r,i,o){for(var t=[],l;e;)t.push(e),l=e.previousComponent,delete e.previousComponent,e=l;t.reverse();for(var s=0,f=t.length,u=0,p=0;s<f;s++){var a=t[s];if(a.removed){if(a.value=n.join(i.slice(p,p+a.count)),p+=a.count,s&&t[s-1].added){var H=t[s-1];t[s-1]=t[s],t[s]=H}}else{if(!a.added&&o){var L=r.slice(u,u+a.count);L=L.map(function(h,x){var y=i[p+x];return y.length>h.length?y:h}),a.value=n.join(L)}else a.value=n.join(r.slice(u,u+a.count));u+=a.count,a.added||(p+=a.count)}}var c=t[f-1];return f>1&&typeof c.value=="string"&&(c.added||c.removed)&&n.equals("",c.value)&&(t[f-2].value+=c.value,t.pop()),t}var re=new v;function j(n,e,r){return re.diff(n,e,r)}var U=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,q=/\S/,V=new v;V.equals=function(n,e){return this.options.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n===e||this.options.ignoreWhitespace&&!q.test(n)&&!q.test(e)};V.tokenize=function(n){for(var e=n.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<e.length-1;r++)!e[r+1]&&e[r+2]&&U.test(e[r])&&U.test(e[r+2])&&(e[r]+=e[r+2],e.splice(r+1,2),r--);return e};var X=new v;X.tokenize=function(n){this.options.stripTrailingCr&&(n=n.replace(/\r\n/g,`
`));var e=[],r=n.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var o=r[i];i%2&&!this.options.newlineIsToken?e[e.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),e.push(o))}return e};var te=new v;te.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};var ie=new v;ie.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function O(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(e){return typeof e}:O=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(n)}var oe=Object.prototype.toString,S=new v;S.useLongestToken=!0;S.tokenize=X.tokenize;S.castInput=function(n){var e=this.options,r=e.undefinedReplacement,i=e.stringifyReplacer,o=i===void 0?function(t,l){return typeof l>"u"?r:l}:i;return typeof n=="string"?n:JSON.stringify(I(n,null,null,o),o,"  ")};S.equals=function(n,e){return v.prototype.equals.call(S,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function I(n,e,r,i,o){e=e||[],r=r||[],i&&(n=i(o,n));var t;for(t=0;t<e.length;t+=1)if(e[t]===n)return r[t];var l;if(oe.call(n)==="[object Array]"){for(e.push(n),l=new Array(n.length),r.push(l),t=0;t<n.length;t+=1)l[t]=I(n[t],e,r,i,o);return e.pop(),r.pop(),l}if(n&&n.toJSON&&(n=n.toJSON()),O(n)==="object"&&n!==null){e.push(n),l={},r.push(l);var s=[],f;for(f in n)n.hasOwnProperty(f)&&s.push(f);for(s.sort(),t=0;t<s.length;t+=1)f=s[t],l[f]=I(n[f],e,r,i,f);e.pop(),r.pop()}else l=n;return l}var E=new v;E.tokenize=function(n){return n.slice()};E.join=E.removeEmpty=function(n){return n};var m=w(W(),1),ae=D(n=>"\uBE44\uAD50: "+P(n.namespace,n.title));function de({oldContent:n,content:e}){let r=[];if($())return j(n,e).forEach(o=>{r.push((0,m.jsx)("span",{className:o.added?"bg-green-200":o.removed?"bg-red-200":"",children:o.value}))}),(0,m.jsx)("pre",{className:"text-sm overflow-x-auto",children:r})}function G(){let n=M();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(J,{namespace:n.namespace,title:n.title,rever:n.rever,oldRever:n.oldRever,thread:n.thread,type:"diff"}),(0,m.jsx)(de,{oldContent:n.oldContent,content:n.content})]})}export{G as default,ae as meta};
