import{a as b,b as v,c as d,d as u}from"/build/_shared/chunk-XKAX2QHM.js";import{a as g}from"/build/_shared/chunk-BJK4DN4I.js";import{b as x}from"/build/_shared/chunk-5WLYYZL3.js";import{a as p,b as o}from"/build/_shared/chunk-4HXKWYDW.js";import{c as t}from"/build/_shared/chunk-Q3IECNXJ.js";var r=t(p(),1);var h=t(p(),1);var C=t(o(),1),m=h.forwardRef(({className:n,...s},i)=>(0,C.jsx)("textarea",{className:x("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:ring-3 ring-1 ring-gray-300 focus:ring-2 placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:i,...s}));m.displayName="Textarea";var e=t(o(),1),I=r.default.forwardRef(({className:n="h-96",value:s="",...i},c)=>{let[l,f]=r.default.useState(String(s)),[w,T]=r.default.useState(""),y=r.default.useRef(null);return r.default.useImperativeHandle(c,()=>({...y.current,reset:()=>f("")})),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(b,{defaultValue:"editer",className:"w-full mb-3 mt-2",children:[(0,e.jsxs)(v,{children:[(0,e.jsx)(d,{value:"editer",onClick:()=>T(""),children:"\uD3B8\uC9D1\uAE30"}),(0,e.jsx)(d,{value:"preview",onClick:()=>fetch("/api/wiki-preview",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:"content="+encodeURIComponent(l)}).then(a=>a.json()).then(a=>{T(a.value)}),children:"\uBBF8\uB9AC\uBCF4\uAE30"})]}),(0,e.jsxs)(g,{className:n,children:[(0,e.jsx)(u,{value:"editer",className:"mt-0 h-full",children:(0,e.jsx)(m,{className:"w-full h-full resize-none",placeholder:"\uB0B4\uC6A9\uC744 \uC785\uB825\uD558\uC138\uC694...",value:l,onChange:a=>f(a.target.value)})}),(0,e.jsx)(u,{value:"preview",className:"mt-0 p-2 h-full",children:(0,e.jsx)("div",{className:"wiki h-full overflow-y-scroll overflow-x-auto",dangerouslySetInnerHTML:{__html:w}})})]})]}),(0,e.jsx)("textarea",{className:"hidden",value:l,ref:c,...i})]})});export{I as a};
